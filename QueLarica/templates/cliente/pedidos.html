{% extends "cliente/dashboard.html" %}

{% block content %}
{% if pedidos %}
    {% for pedido in pedidos %}
    <div class="pedidos-container">
        <h2>{{ _('Pedido #') }}{{ pedido.id }}</h2>
        <p><strong>{{ _('Data:') }}</strong> {{ pedido.pedido.data_pedido_formatada }}</p>
        <p><strong>{{ _('Restaurante:') }}</strong> {{ pedido.pedido.restaurante.nome }}</p>
        <p><strong>{{ _('Status:') }}</strong> {{ pedido.status }}</p>
        
        <p><strong>{{ _('Itens:') }}</strong></p>
        <ul>
            {% for item in pedido.itens %}
                <li>{{ item.quantidade }}x {{ item.produto_nome }} - R$ {{ "%.2f"|format(item.subtotal) }}</li>
            {% endfor %}
        </ul>

        <p><strong>{{ _('Total:') }}</strong> R$ {{ "%.2f"|format(pedido.total) }}</p>
    </div>
    {% endfor %}
{% else %}
    <p class="sem-pedidos">{{ _('Você não tem pedidos no momento.') }}</p>
{% endif %}

{% endblock %}
